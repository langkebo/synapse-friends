# Synapse Matrix 服务器环境变量配置
# 复制此文件为 .env 并修改相应值

# 域名配置
SYNAPSE_SERVER_NAME=your-domain.com
SYNAPSE_REPORT_STATS=no

# 数据库配置
POSTGRES_DB=synapse
POSTGRES_USER=synapse
POSTGRES_PASSWORD=your_secure_postgres_password
POSTGRES_HOST=postgres
POSTGRES_PORT=5432

# Redis 配置
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=your_secure_redis_password

# Synapse 配置
SYNAPSE_CONFIG_DIR=/data
SYNAPSE_DATA_DIR=/data
SYNAPSE_LOG_LEVEL=INFO

# SSL 证书路径（容器内路径）
SSL_CERT_PATH=/ssl/fullchain.pem
SSL_KEY_PATH=/ssl/privkey.pem

# Nginx 配置
NGINX_HOST=your-domain.com
NGINX_PORT=80
NGINX_SSL_PORT=443

# Element Web 配置（可选）
ELEMENT_WEB_VERSION=latest
ELEMENT_DEFAULT_SERVER=https://your-domain.com

# Coturn TURN 服务器配置（可选）
COTURN_MIN_PORT=49152
COTURN_MAX_PORT=65535
COTURN_STATIC_AUTH_SECRET=your_coturn_secret
COTURN_REALM=your-domain.com

# 监控配置（可选）
PROMETHEUS_PORT=9090
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=your_grafana_password

# 安全配置
REGISTRATION_SHARED_SECRET=your_registration_secret
MACARRON_SECRET_KEY=your_macaroon_secret
FORM_SECRET=your_form_secret

# 好友功能配置
FRIENDS_ENABLED=true
MAX_FRIENDS_PER_USER=1000
FRIEND_REQUEST_TIMEOUT=604800

# 媒体配置
MAX_UPLOAD_SIZE=50M
MEDIA_STORE_PATH=/data/media_store

# 日志配置
LOG_CONFIG=/data/log.config
LOG_FILE=/data/homeserver.log

# 网络配置
SYNAPSE_HTTP_PORT=8008
SYNAPSE_HTTPS_PORT=8448
FEDERATION_PORT=8448

# 时区配置
TZ=Asia/Shanghai